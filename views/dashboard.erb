<!doctype html>
<html><head>
  <meta charset="utf-8">
  <title>player-dashboard</title>
  <link rel="stylesheet" href="/css/dashboard.css">
  <link rel="stylesheet" href="/css/rickshaw.min.css">
  <script src="/js/jquery-1.7.2.min.js"></script>
  <script src="/js/d3.v2.min.js"></script>
  <script src="/js/rickshaw.min.js"></script>
  <script src="/js/underscore-1.3.3.min.js"></script>
</head><body>
<script src="/js/dashboard.js"></script>
<script>
$(function() {
  graph("latency_graph", <%= latency_data %>, "latency ms");
  graph("error_graph", <%= error_data %>, "errors");
  graph("loads_graph", <%= loads_data %>, "player loads");
});

</script>
<table width=99%>
  <tr width=100%>

    <td style="vertical-align:top" width="49%">
      <div id="latency">
        <div id="latency_numbers" class="hastur_padded_container">
          <div class="hastur_numbers_container">
            <span class="hastur_float_left">
              <span class="hastur_large_number"><%= median_latency %></span>
              <span class="hastur_right_bracket"></span>
              <span class="hastur_left_number_label hastur_text">median latency</span>
            </span>
            <span class="hastur_float_right">
              <span class="hastlatenr_right_number_label hastur_text">average latency</span>
              <span class="hastur_left_bracket"></span>
              <span class="hastur_good_large_number"><%= average_latency %></span>
            </span>
          </div>
        </div>
        <div id="latency_graph_container">
          <div class="hastur_float_middle hastur_text">median client latency</div>
          <div class="hastur_chart_title_bracket"></div>
          <div class="hastur_padded_container">
            <div id="latency_graph"></div>
          </div>
        </div>
      </div>
    </td>

    <td width=2%></td>

    <td style="vertical-align:top" width="49%">
      <div id="error">
        <div id="error_numbers" class="hastur_padded_container">
          <div class="hastur_numbers_container">
            <span class="hastur_float_left">
              <span class="hastur_alert_large_number"><%= sas_errors %></span>
              <span class="hastur_right_bracket"></span>
              <span class="hastur_left_number_label hastur_text">sas errors</span>
            </span>
            <span class="hastur_float_right">
              <span class="hastur_right_number_label hastur_text">module errors</span>
              <span class="hastur_left_bracket"></span>
              <span class="hastur_good_large_number"><%= module_errors %></span>
            </span>
          </div>
        </div>
        <div id="error_graph_container">
          <div class="hastur_float_middle hastur_text">sas + module errors / sec</div>
          <div class="hastur_chart_title_bracket"></div>
          <div class="hastur_padded_container">
            <div id="error_graph"></div>
          </div>
        </div>
      </div>
    </td>

  </tr>
</table>
<table width=99%>
  <tr width=100%>
    <td width=100%>
      <div id="counts_version_hits">
        <div class="hastur_float_middle hastur_text">player loads / sec</div>
        <div class="hastur_chart_title_bracket"></div>
        <div class="hastur_padded_container>">
          <div id="loads_graph"></div>
        </div>
      </div>
    </td>
  </tr>
</table>

</body>
</html>
